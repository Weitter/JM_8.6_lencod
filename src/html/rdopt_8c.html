<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: rdopt.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">rdopt.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Rate-Distortion optimized mode decision.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;memory.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;rdopt_coding_state.h&quot;</code><br />
<code>#include &quot;elements.h&quot;</code><br />
<code>#include &quot;refbuf.h&quot;</code><br />
<code>#include &quot;intrarefresh.h&quot;</code><br />
<code>#include &quot;vlc.h&quot;</code><br />
<code>#include &quot;mbuffer.h&quot;</code><br />
<code>#include &quot;image.h&quot;</code><br />
<code>#include &quot;mb_access.h&quot;</code><br />
<code>#include &quot;fast_me.h&quot;</code><br />
<code>#include &quot;ratectl.h&quot;</code><br />
<code>#include &quot;cabac.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a279130917f0495ea4983615e8461091f"><td class="memItemLeft" align="right" valign="top"><a id="a279130917f0495ea4983615e8461091f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IS_FW</b>&#160;&#160;&#160;((best8x8pdir[mode][k]==0 || best8x8pdir[mode][k]==2) &amp;&amp; (mode!=P8x8 || best8x8mode[k]!=0 || !bframe))</td></tr>
<tr class="separator:a279130917f0495ea4983615e8461091f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c253d04b4cee8a6b5f2b1c691aad8a"><td class="memItemLeft" align="right" valign="top"><a id="ab3c253d04b4cee8a6b5f2b1c691aad8a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>IS_BW</b>&#160;&#160;&#160;((best8x8pdir[mode][k]==1 || best8x8pdir[mode][k]==2) &amp;&amp; (mode!=P8x8 || best8x8mode[k]!=0))</td></tr>
<tr class="separator:ab3c253d04b4cee8a6b5f2b1c691aad8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa12a12c1863a89d61ce2e33765ecff34"><td class="memItemLeft" align="right" valign="top"><a id="aa12a12c1863a89d61ce2e33765ecff34"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#aa12a12c1863a89d61ce2e33765ecff34">clear_rdopt</a> ()</td></tr>
<tr class="memdesc:aa12a12c1863a89d61ce2e33765ecff34"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete structure for RD-optimized mode decision <br /></td></tr>
<tr class="separator:aa12a12c1863a89d61ce2e33765ecff34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdf37fcf158177164c64643ef11a1277"><td class="memItemLeft" align="right" valign="top"><a id="abdf37fcf158177164c64643ef11a1277"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#abdf37fcf158177164c64643ef11a1277">init_rdopt</a> ()</td></tr>
<tr class="memdesc:abdf37fcf158177164c64643ef11a1277"><td class="mdescLeft">&#160;</td><td class="mdescRight">create structure for RD-optimized mode decision <br /></td></tr>
<tr class="separator:abdf37fcf158177164c64643ef11a1277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5183e10e4366b2a27ce5a8c4d53e34bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a5183e10e4366b2a27ce5a8c4d53e34bc">UpdatePixelMap</a> ()</td></tr>
<tr class="memdesc:a5183e10e4366b2a27ce5a8c4d53e34bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the pixel map that shows, which reference frames are reliable for each MB-area of the picture.  <a href="rdopt_8c.html#a5183e10e4366b2a27ce5a8c4d53e34bc">More...</a><br /></td></tr>
<tr class="separator:a5183e10e4366b2a27ce5a8c4d53e34bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dbf6aea5962a6419e6e51d5ab826c48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a3dbf6aea5962a6419e6e51d5ab826c48">CheckReliabilityOfRef</a> (int block, int list_idx, int ref, int mode)</td></tr>
<tr class="memdesc:a3dbf6aea5962a6419e6e51d5ab826c48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a given reference frame is reliable for the current macroblock, given the motion vectors that the motion search has returned.  <a href="rdopt_8c.html#a3dbf6aea5962a6419e6e51d5ab826c48">More...</a><br /></td></tr>
<tr class="separator:a3dbf6aea5962a6419e6e51d5ab826c48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536d4579b8f3d874d1fddd7e1b3e4002"><td class="memItemLeft" align="right" valign="top"><a id="a536d4579b8f3d874d1fddd7e1b3e4002"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a536d4579b8f3d874d1fddd7e1b3e4002">RDCost_for_4x4IntraBlocks</a> (int *nonzero, int b8, int b4, int ipmode, double lambda, double min_rdcost, int mostProbableMode)</td></tr>
<tr class="memdesc:a536d4579b8f3d874d1fddd7e1b3e4002"><td class="mdescLeft">&#160;</td><td class="mdescRight">R-D Cost for an 4x4 Intra block. <br /></td></tr>
<tr class="separator:a536d4579b8f3d874d1fddd7e1b3e4002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acde656f13837575d3249bee21338be26"><td class="memItemLeft" align="right" valign="top"><a id="acde656f13837575d3249bee21338be26"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#acde656f13837575d3249bee21338be26">Mode_Decision_for_4x4IntraBlocks</a> (int b8, int b4, double lambda, int *min_cost)</td></tr>
<tr class="memdesc:acde656f13837575d3249bee21338be26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mode Decision for an 4x4 Intra block. <br /></td></tr>
<tr class="separator:acde656f13837575d3249bee21338be26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56139e51c3d5da7020919b0e7bb9ae81"><td class="memItemLeft" align="right" valign="top"><a id="a56139e51c3d5da7020919b0e7bb9ae81"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a56139e51c3d5da7020919b0e7bb9ae81">Mode_Decision_for_8x8IntraBlocks</a> (int b8, double lambda, int *cost)</td></tr>
<tr class="memdesc:a56139e51c3d5da7020919b0e7bb9ae81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mode Decision for an 8x8 Intra block. <br /></td></tr>
<tr class="separator:a56139e51c3d5da7020919b0e7bb9ae81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e982c1ce570917adc4b094bda0d3a7"><td class="memItemLeft" align="right" valign="top"><a id="a26e982c1ce570917adc4b094bda0d3a7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a26e982c1ce570917adc4b094bda0d3a7">Mode_Decision_for_Intra4x4Macroblock</a> (double lambda, int *cost)</td></tr>
<tr class="memdesc:a26e982c1ce570917adc4b094bda0d3a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">4x4 Intra mode decision for an macroblock <br /></td></tr>
<tr class="separator:a26e982c1ce570917adc4b094bda0d3a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10da7bc1c09ab7c074daccba488e2420"><td class="memItemLeft" align="right" valign="top"><a id="a10da7bc1c09ab7c074daccba488e2420"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a10da7bc1c09ab7c074daccba488e2420">RDCost_for_8x8blocks</a> (int *cnt_nonz, int *cbp_blk, double lambda, int block, int mode, int pdir, int ref, int bwd_ref)</td></tr>
<tr class="memdesc:a10da7bc1c09ab7c074daccba488e2420"><td class="mdescLeft">&#160;</td><td class="mdescRight">R-D Cost for an 8x8 Partition. <br /></td></tr>
<tr class="separator:a10da7bc1c09ab7c074daccba488e2420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d1ffde4d4fe84f217a61889cd3d4dac"><td class="memItemLeft" align="right" valign="top"><a id="a4d1ffde4d4fe84f217a61889cd3d4dac"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a4d1ffde4d4fe84f217a61889cd3d4dac">I16Offset</a> (int cbp, int i16mode)</td></tr>
<tr class="memdesc:a4d1ffde4d4fe84f217a61889cd3d4dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets mode offset for intra16x16 mode. <br /></td></tr>
<tr class="separator:a4d1ffde4d4fe84f217a61889cd3d4dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaa329d26b97397fd1a58a032cfb731f"><td class="memItemLeft" align="right" valign="top"><a id="afaa329d26b97397fd1a58a032cfb731f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#afaa329d26b97397fd1a58a032cfb731f">SetModesAndRefframeForBlocks</a> (int mode)</td></tr>
<tr class="memdesc:afaa329d26b97397fd1a58a032cfb731f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets modes and reference frames for an macroblock. <br /></td></tr>
<tr class="separator:afaa329d26b97397fd1a58a032cfb731f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d579f9335f9d783980318b78a4be102"><td class="memItemLeft" align="right" valign="top"><a id="a3d579f9335f9d783980318b78a4be102"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a3d579f9335f9d783980318b78a4be102">Intra16x16_Mode_Decision</a> (Macroblock *currMB, int *i16mode)</td></tr>
<tr class="memdesc:a3d579f9335f9d783980318b78a4be102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Intra 16x16 mode decision. <br /></td></tr>
<tr class="separator:a3d579f9335f9d783980318b78a4be102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97eaefe34ca300d25c9a380a05cdc087"><td class="memItemLeft" align="right" valign="top"><a id="a97eaefe34ca300d25c9a380a05cdc087"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a97eaefe34ca300d25c9a380a05cdc087">SetCoeffAndReconstruction8x8</a> (Macroblock *currMB)</td></tr>
<tr class="memdesc:a97eaefe34ca300d25c9a380a05cdc087"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets Coefficients and reconstruction for an 8x8 block. <br /></td></tr>
<tr class="separator:a97eaefe34ca300d25c9a380a05cdc087"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cdf3e28ee9080bfcc8d677686d9416c"><td class="memItemLeft" align="right" valign="top"><a id="a2cdf3e28ee9080bfcc8d677686d9416c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a2cdf3e28ee9080bfcc8d677686d9416c">SetMotionVectorsMB</a> (Macroblock *currMB, int bframe)</td></tr>
<tr class="memdesc:a2cdf3e28ee9080bfcc8d677686d9416c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets motion vectors for an macroblock. <br /></td></tr>
<tr class="separator:a2cdf3e28ee9080bfcc8d677686d9416c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbec9042e28f2308ae0c717974cbada7"><td class="memItemLeft" align="right" valign="top"><a id="afbec9042e28f2308ae0c717974cbada7"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#afbec9042e28f2308ae0c717974cbada7">RDCost_for_macroblocks</a> (double lambda, int mode, double *min_rdcost)</td></tr>
<tr class="memdesc:afbec9042e28f2308ae0c717974cbada7"><td class="mdescLeft">&#160;</td><td class="mdescRight">R-D Cost for a macroblock. <br /></td></tr>
<tr class="separator:afbec9042e28f2308ae0c717974cbada7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c3de597c66f9faf453efedf1dcee4f"><td class="memItemLeft" align="right" valign="top"><a id="ad5c3de597c66f9faf453efedf1dcee4f"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#ad5c3de597c66f9faf453efedf1dcee4f">store_macroblock_parameters</a> (int mode)</td></tr>
<tr class="memdesc:ad5c3de597c66f9faf453efedf1dcee4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store macroblock parameters. <br /></td></tr>
<tr class="separator:ad5c3de597c66f9faf453efedf1dcee4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51d14d20b88ed7a3ecfb6c2920902dde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a51d14d20b88ed7a3ecfb6c2920902dde">set_stored_macroblock_parameters</a> ()</td></tr>
<tr class="memdesc:a51d14d20b88ed7a3ecfb6c2920902dde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set stored macroblock parameters.  <a href="rdopt_8c.html#a51d14d20b88ed7a3ecfb6c2920902dde">More...</a><br /></td></tr>
<tr class="separator:a51d14d20b88ed7a3ecfb6c2920902dde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81e57a90512c93fe6367997e0f92ab2c"><td class="memItemLeft" align="right" valign="top"><a id="a81e57a90512c93fe6367997e0f92ab2c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a81e57a90512c93fe6367997e0f92ab2c">SetRefAndMotionVectors</a> (int block, int mode, int pdir, int fwref, int bwref)</td></tr>
<tr class="memdesc:a81e57a90512c93fe6367997e0f92ab2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set reference frames and motion vectors. <br /></td></tr>
<tr class="separator:a81e57a90512c93fe6367997e0f92ab2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a917c0468b5819f343d4a7fde5e8f4c21"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a917c0468b5819f343d4a7fde5e8f4c21">field_flag_inference</a> ()</td></tr>
<tr class="memdesc:a917c0468b5819f343d4a7fde5e8f4c21"><td class="mdescLeft">&#160;</td><td class="mdescRight">skip macroblock field inference  <a href="rdopt_8c.html#a917c0468b5819f343d4a7fde5e8f4c21">More...</a><br /></td></tr>
<tr class="separator:a917c0468b5819f343d4a7fde5e8f4c21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c15a986b192f49d6cea3889e56a0233"><td class="memItemLeft" align="right" valign="top"><a id="a0c15a986b192f49d6cea3889e56a0233"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rdopt_8c.html#a0c15a986b192f49d6cea3889e56a0233">encode_one_macroblock</a> ()</td></tr>
<tr class="memdesc:a0c15a986b192f49d6cea3889e56a0233"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mode Decision for a macroblock. <br /></td></tr>
<tr class="separator:a0c15a986b192f49d6cea3889e56a0233"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5603b71604acb1b3cbf8a5f1c5712d7c"><td class="memItemLeft" align="right" valign="top"><a id="a5603b71604acb1b3cbf8a5f1c5712d7c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set_mbaff_parameters</b> ()</td></tr>
<tr class="separator:a5603b71604acb1b3cbf8a5f1c5712d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6ceeccca7e0fa98ff596701b2e536268"><td class="memItemLeft" align="right" valign="top"><a id="a6ceeccca7e0fa98ff596701b2e536268"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>QP</b></td></tr>
<tr class="separator:a6ceeccca7e0fa98ff596701b2e536268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98076bc16266b8d42c1fbc1351529fa5"><td class="memItemLeft" align="right" valign="top"><a id="a98076bc16266b8d42c1fbc1351529fa5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>QP2</b></td></tr>
<tr class="separator:a98076bc16266b8d42c1fbc1351529fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e4a4b5910491668eea93398441bd57"><td class="memItemLeft" align="right" valign="top"><a id="a03e4a4b5910491668eea93398441bd57"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DELTA_QP</b></td></tr>
<tr class="separator:a03e4a4b5910491668eea93398441bd57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a287839edddf91e8322d8720d914e8328"><td class="memItemLeft" align="right" valign="top"><a id="a287839edddf91e8322d8720d914e8328"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>DELTA_QP2</b></td></tr>
<tr class="separator:a287839edddf91e8322d8720d914e8328"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a4e9ff5c1c9f92b04d7dc31decfb1b1"><td class="memItemLeft" align="right" valign="top"><a id="a0a4e9ff5c1c9f92b04d7dc31decfb1b1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>diffy</b> [16][16]</td></tr>
<tr class="separator:a0a4e9ff5c1c9f92b04d7dc31decfb1b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5c98a192fa606bd306d61247e209951"><td class="memItemLeft" align="right" valign="top"><a id="af5c98a192fa606bd306d61247e209951"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>QP2QUANT</b> [40]</td></tr>
<tr class="separator:af5c98a192fa606bd306d61247e209951"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35089029d63dc3c8e734ade763face5"><td class="memItemLeft" align="right" valign="top"><a id="af35089029d63dc3c8e734ade763face5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>best_mode</b></td></tr>
<tr class="separator:af35089029d63dc3c8e734ade763face5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d395c71c576e00daca1493c3013398"><td class="memItemLeft" align="right" valign="top"><a id="a88d395c71c576e00daca1493c3013398"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rec_mbY</b> [16][16]</td></tr>
<tr class="separator:a88d395c71c576e00daca1493c3013398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9c6bfac8819dee35045ecbb90322cb"><td class="memItemLeft" align="right" valign="top"><a id="a6a9c6bfac8819dee35045ecbb90322cb"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rec_mbU</b> [8][8]</td></tr>
<tr class="separator:a6a9c6bfac8819dee35045ecbb90322cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc9d0054394423a1c50563a82a18ae3e"><td class="memItemLeft" align="right" valign="top"><a id="acc9d0054394423a1c50563a82a18ae3e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rec_mbV</b> [8][8]</td></tr>
<tr class="separator:acc9d0054394423a1c50563a82a18ae3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0e8b5a2a4dac7678ce2254573d7725"><td class="memItemLeft" align="right" valign="top"><a id="a0a0e8b5a2a4dac7678ce2254573d7725"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>rec_mbY8x8</b> [16][16]</td></tr>
<tr class="separator:a0a0e8b5a2a4dac7678ce2254573d7725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0988420a1c0153b4d101d17ef79b496f"><td class="memItemLeft" align="right" valign="top"><a id="a0988420a1c0153b4d101d17ef79b496f"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>mpr8x8</b> [16][16]</td></tr>
<tr class="separator:a0988420a1c0153b4d101d17ef79b496f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c0e6a114bcf6eb52387db2e5d5e23b4"><td class="memItemLeft" align="right" valign="top"><a id="a4c0e6a114bcf6eb52387db2e5d5e23b4"></a>
int ****&#160;</td><td class="memItemRight" valign="bottom"><b>cofAC</b> =NULL</td></tr>
<tr class="separator:a4c0e6a114bcf6eb52387db2e5d5e23b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f9a6180be066ec9b49547d44839529"><td class="memItemLeft" align="right" valign="top"><a id="a81f9a6180be066ec9b49547d44839529"></a>
int ****&#160;</td><td class="memItemRight" valign="bottom"><b>cofAC8x8</b> =NULL</td></tr>
<tr class="separator:a81f9a6180be066ec9b49547d44839529"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ac4a3a3bf018dca3a930b120f8b4cf"><td class="memItemLeft" align="right" valign="top"><a id="aa7ac4a3a3bf018dca3a930b120f8b4cf"></a>
int ***&#160;</td><td class="memItemRight" valign="bottom"><b>cofDC</b> =NULL</td></tr>
<tr class="separator:aa7ac4a3a3bf018dca3a930b120f8b4cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cb23ef07e49321489284532661b9e8"><td class="memItemLeft" align="right" valign="top"><a id="a59cb23ef07e49321489284532661b9e8"></a>
int **&#160;</td><td class="memItemRight" valign="bottom"><b>cofAC4x4</b> =NULL</td></tr>
<tr class="separator:a59cb23ef07e49321489284532661b9e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2325424afcc07b5306917b8a44fbad4"><td class="memItemLeft" align="right" valign="top"><a id="aa2325424afcc07b5306917b8a44fbad4"></a>
int ****&#160;</td><td class="memItemRight" valign="bottom"><b>cofAC4x4intern</b> =NULL</td></tr>
<tr class="separator:aa2325424afcc07b5306917b8a44fbad4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54a0b990ee5b2311ee8e021723c2c026"><td class="memItemLeft" align="right" valign="top"><a id="a54a0b990ee5b2311ee8e021723c2c026"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cbp</b></td></tr>
<tr class="separator:a54a0b990ee5b2311ee8e021723c2c026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a8be254ebfc5449749db20c2d2ffef0"><td class="memItemLeft" align="right" valign="top"><a id="a1a8be254ebfc5449749db20c2d2ffef0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cbp8x8</b></td></tr>
<tr class="separator:a1a8be254ebfc5449749db20c2d2ffef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05da20065e0d8ca3cbc5226815c021f3"><td class="memItemLeft" align="right" valign="top"><a id="a05da20065e0d8ca3cbc5226815c021f3"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cnt_nonz_8x8</b></td></tr>
<tr class="separator:a05da20065e0d8ca3cbc5226815c021f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7cfb89f5d093c0ca1498815445f70c1"><td class="memItemLeft" align="right" valign="top"><a id="ab7cfb89f5d093c0ca1498815445f70c1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cbp_blk</b></td></tr>
<tr class="separator:ab7cfb89f5d093c0ca1498815445f70c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a396e2bb798584724e5e9cc4d68689def"><td class="memItemLeft" align="right" valign="top"><a id="a396e2bb798584724e5e9cc4d68689def"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>cbp_blk8x8</b></td></tr>
<tr class="separator:a396e2bb798584724e5e9cc4d68689def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86a847c504a10eaca7b07bfab21cdb04"><td class="memItemLeft" align="right" valign="top"><a id="a86a847c504a10eaca7b07bfab21cdb04"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>frefframe</b> [4][4]</td></tr>
<tr class="separator:a86a847c504a10eaca7b07bfab21cdb04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12f3f45472278cd0e8bf26f37369a0d1"><td class="memItemLeft" align="right" valign="top"><a id="a12f3f45472278cd0e8bf26f37369a0d1"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>brefframe</b> [4][4]</td></tr>
<tr class="separator:a12f3f45472278cd0e8bf26f37369a0d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8e4c3630be3604f6c7a41c1dc460b16"><td class="memItemLeft" align="right" valign="top"><a id="ad8e4c3630be3604f6c7a41c1dc460b16"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>b8mode</b> [4]</td></tr>
<tr class="separator:ad8e4c3630be3604f6c7a41c1dc460b16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82c491b643da47b54af8ab71faddc9ff"><td class="memItemLeft" align="right" valign="top"><a id="a82c491b643da47b54af8ab71faddc9ff"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>b8pdir</b> [4]</td></tr>
<tr class="separator:a82c491b643da47b54af8ab71faddc9ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32237bbd76e9ea9c190a0ef76566b078"><td class="memItemLeft" align="right" valign="top"><a id="a32237bbd76e9ea9c190a0ef76566b078"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>best8x8mode</b> [4]</td></tr>
<tr class="separator:a32237bbd76e9ea9c190a0ef76566b078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e14717a858ead71fad2c2a4ac5028d"><td class="memItemLeft" align="right" valign="top"><a id="ac6e14717a858ead71fad2c2a4ac5028d"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>best8x8pdir</b> [MAXMODE][4]</td></tr>
<tr class="separator:ac6e14717a858ead71fad2c2a4ac5028d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f0edd125fa51f21f8f3dd9ad00f3f4"><td class="memItemLeft" align="right" valign="top"><a id="af7f0edd125fa51f21f8f3dd9ad00f3f4"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>best8x8fwref</b> [MAXMODE][4]</td></tr>
<tr class="separator:af7f0edd125fa51f21f8f3dd9ad00f3f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22e4f6b54d538d326b8687d7e036176"><td class="memItemLeft" align="right" valign="top"><a id="af22e4f6b54d538d326b8687d7e036176"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>b8_ipredmode</b> [16]</td></tr>
<tr class="separator:af22e4f6b54d538d326b8687d7e036176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbe0b9855775d15b2545bdcf15e3b50e"><td class="memItemLeft" align="right" valign="top"><a id="abbe0b9855775d15b2545bdcf15e3b50e"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>b8_intra_pred_modes</b> [16]</td></tr>
<tr class="separator:abbe0b9855775d15b2545bdcf15e3b50e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89828be114f343c649581e79006d66d3"><td class="memItemLeft" align="right" valign="top"><a id="a89828be114f343c649581e79006d66d3"></a>
CSptr&#160;</td><td class="memItemRight" valign="bottom"><b>cs_mb</b> =NULL</td></tr>
<tr class="separator:a89828be114f343c649581e79006d66d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bbdd58f2f75148d9f3c21bb8936d50c"><td class="memItemLeft" align="right" valign="top"><a id="a0bbdd58f2f75148d9f3c21bb8936d50c"></a>
CSptr&#160;</td><td class="memItemRight" valign="bottom"><b>cs_b8</b> =NULL</td></tr>
<tr class="separator:a0bbdd58f2f75148d9f3c21bb8936d50c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4efc726fc84777d84ec1a3614b9fef5d"><td class="memItemLeft" align="right" valign="top"><a id="a4efc726fc84777d84ec1a3614b9fef5d"></a>
CSptr&#160;</td><td class="memItemRight" valign="bottom"><b>cs_cm</b> =NULL</td></tr>
<tr class="separator:a4efc726fc84777d84ec1a3614b9fef5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62c97210e1ae3ec8f027b68ce9bfe74c"><td class="memItemLeft" align="right" valign="top"><a id="a62c97210e1ae3ec8f027b68ce9bfe74c"></a>
CSptr&#160;</td><td class="memItemRight" valign="bottom"><b>cs_imb</b> =NULL</td></tr>
<tr class="separator:a62c97210e1ae3ec8f027b68ce9bfe74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc82aba93c517e201e67172d142ca9c"><td class="memItemLeft" align="right" valign="top"><a id="a6fc82aba93c517e201e67172d142ca9c"></a>
CSptr&#160;</td><td class="memItemRight" valign="bottom"><b>cs_ib8</b> =NULL</td></tr>
<tr class="separator:a6fc82aba93c517e201e67172d142ca9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a853a4af31526d68387cfc469868f013e"><td class="memItemLeft" align="right" valign="top"><a id="a853a4af31526d68387cfc469868f013e"></a>
CSptr&#160;</td><td class="memItemRight" valign="bottom"><b>cs_ib4</b> =NULL</td></tr>
<tr class="separator:a853a4af31526d68387cfc469868f013e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eff0e2fb0c1ce86c9ea58db9bdde032"><td class="memItemLeft" align="right" valign="top"><a id="a3eff0e2fb0c1ce86c9ea58db9bdde032"></a>
CSptr&#160;</td><td class="memItemRight" valign="bottom"><b>cs_pc</b> =NULL</td></tr>
<tr class="separator:a3eff0e2fb0c1ce86c9ea58db9bdde032"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef92d7b53c2bdd263773178231d6c6df"><td class="memItemLeft" align="right" valign="top"><a id="aef92d7b53c2bdd263773178231d6c6df"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>best_c_imode</b></td></tr>
<tr class="separator:aef92d7b53c2bdd263773178231d6c6df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7648ef752e826e6732237ce8e07c031"><td class="memItemLeft" align="right" valign="top"><a id="ab7648ef752e826e6732237ce8e07c031"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>best_i16offset</b></td></tr>
<tr class="separator:ab7648ef752e826e6732237ce8e07c031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e0a3334403f4767142da9b5743a46ea"><td class="memItemLeft" align="right" valign="top"><a id="a0e0a3334403f4767142da9b5743a46ea"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>best8x8bwref</b> [MAXMODE][4]</td></tr>
<tr class="separator:a0e0a3334403f4767142da9b5743a46ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ceb3094a97245fb8127259874ddd16"><td class="memItemLeft" align="right" valign="top"><a id="a59ceb3094a97245fb8127259874ddd16"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>abp_typeframe</b> [4][4]</td></tr>
<tr class="separator:a59ceb3094a97245fb8127259874ddd16"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Rate-Distortion optimized mode decision. </p>
<dl class="section author"><dt>Author</dt><dd>Heiko Schwarz <a href="#" onclick="location.href='mai'+'lto:'+'hsc'+'hw'+'arz'+'@h'+'hi.'+'de'; return false;">hschw<span style="display: none;">.nosp@m.</span>arz@<span style="display: none;">.nosp@m.</span>hhi.d<span style="display: none;">.nosp@m.</span>e</a></dd></dl>
<dl class="section date"><dt>Date</dt><dd><ol type="1">
<li>April 2001 </li>
</ol>
</dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a3dbf6aea5962a6419e6e51d5ab826c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dbf6aea5962a6419e6e51d5ab826c48">&#9670;&nbsp;</a></span>CheckReliabilityOfRef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CheckReliabilityOfRef </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>list_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ref</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if a given reference frame is reliable for the current macroblock, given the motion vectors that the motion search has returned. </p>
<dl class="section return"><dt>Returns</dt><dd>If the return value is 1, the reference frame is reliable. If it is 0, then it is not reliable.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>A specific area in each reference frame is assumed to be unreliable if the same area has been intra-refreshed in a subsequent frame. The information about intra-refreshed areas is kept in the pixel_map. </dd></dl>

</div>
</div>
<a id="a917c0468b5819f343d4a7fde5e8f4c21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a917c0468b5819f343d4a7fde5e8f4c21">&#9670;&nbsp;</a></span>field_flag_inference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int field_flag_inference </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>skip macroblock field inference </p>
<dl class="section return"><dt>Returns</dt><dd>inferred field flag </dd></dl>

</div>
</div>
<a id="a51d14d20b88ed7a3ecfb6c2920902dde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51d14d20b88ed7a3ecfb6c2920902dde">&#9670;&nbsp;</a></span>set_stored_macroblock_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_stored_macroblock_parameters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set stored macroblock parameters. </p>
<p>save the MB Mode of every macroblock</p>

</div>
</div>
<a id="a5183e10e4366b2a27ce5a8c4d53e34bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5183e10e4366b2a27ce5a8c4d53e34bc">&#9670;&nbsp;</a></span>UpdatePixelMap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UpdatePixelMap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the pixel map that shows, which reference frames are reliable for each MB-area of the picture. </p>
<dl class="section note"><dt>Note</dt><dd>The new values of the pixel_map are taken from the temporary buffer refresh_map </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.19
</small></address>
</body>
</html>

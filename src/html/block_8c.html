<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.19"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: block.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.19 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">block.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Process one block.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;contributors.h&quot;</code><br />
<code>#include &lt;math.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;block.h&quot;</code><br />
<code>#include &quot;refbuf.h&quot;</code><br />
<code>#include &quot;vlc.h&quot;</code><br />
<code>#include &quot;mb_access.h&quot;</code><br />
<code>#include &quot;image.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad167cf5fb754fa93a787a77ef056fbbd"><td class="memItemLeft" align="right" valign="top"><a id="ad167cf5fb754fa93a787a77ef056fbbd"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>Q_BITS</b>&#160;&#160;&#160;15</td></tr>
<tr class="separator:ad167cf5fb754fa93a787a77ef056fbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bb654777ed5b1459487dd9d32f44fe1"><td class="memItemLeft" align="right" valign="top"><a id="a0bb654777ed5b1459487dd9d32f44fe1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DQ_BITS</b>&#160;&#160;&#160;6</td></tr>
<tr class="separator:a0bb654777ed5b1459487dd9d32f44fe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e753af61f3078ac5d5229e8318831f"><td class="memItemLeft" align="right" valign="top"><a id="aa6e753af61f3078ac5d5229e8318831f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>DQ_ROUND</b>&#160;&#160;&#160;(1&lt;&lt;(DQ_BITS-1))</td></tr>
<tr class="separator:aa6e753af61f3078ac5d5229e8318831f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd656aa126020ef16064e445a9ed8653"><td class="memItemLeft" align="right" valign="top"><a id="abd656aa126020ef16064e445a9ed8653"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_X</b>&#160;&#160;&#160;(PredPel[0])</td></tr>
<tr class="separator:abd656aa126020ef16064e445a9ed8653"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa190596bd9ad974a3dfb94d321ee6a37"><td class="memItemLeft" align="right" valign="top"><a id="aa190596bd9ad974a3dfb94d321ee6a37"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_A</b>&#160;&#160;&#160;(PredPel[1])</td></tr>
<tr class="separator:aa190596bd9ad974a3dfb94d321ee6a37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06441a74086d94a7aa28f9b236881455"><td class="memItemLeft" align="right" valign="top"><a id="a06441a74086d94a7aa28f9b236881455"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_B</b>&#160;&#160;&#160;(PredPel[2])</td></tr>
<tr class="separator:a06441a74086d94a7aa28f9b236881455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae00597328874555d852fcc641ce61e22"><td class="memItemLeft" align="right" valign="top"><a id="ae00597328874555d852fcc641ce61e22"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_C</b>&#160;&#160;&#160;(PredPel[3])</td></tr>
<tr class="separator:ae00597328874555d852fcc641ce61e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f6a4d69e9ac9a8bbfd16199de4171a"><td class="memItemLeft" align="right" valign="top"><a id="a58f6a4d69e9ac9a8bbfd16199de4171a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_D</b>&#160;&#160;&#160;(PredPel[4])</td></tr>
<tr class="separator:a58f6a4d69e9ac9a8bbfd16199de4171a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1144a9880b5f7871250ce28e6eb0eb0d"><td class="memItemLeft" align="right" valign="top"><a id="a1144a9880b5f7871250ce28e6eb0eb0d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_E</b>&#160;&#160;&#160;(PredPel[5])</td></tr>
<tr class="separator:a1144a9880b5f7871250ce28e6eb0eb0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b10fb3e9380ea8333141eafe8ef31a3"><td class="memItemLeft" align="right" valign="top"><a id="a5b10fb3e9380ea8333141eafe8ef31a3"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_F</b>&#160;&#160;&#160;(PredPel[6])</td></tr>
<tr class="separator:a5b10fb3e9380ea8333141eafe8ef31a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fa286a619ee028391743a06f25e3cad"><td class="memItemLeft" align="right" valign="top"><a id="a0fa286a619ee028391743a06f25e3cad"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_G</b>&#160;&#160;&#160;(PredPel[7])</td></tr>
<tr class="separator:a0fa286a619ee028391743a06f25e3cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681dc6971e6126505be7f1c599e88e1b"><td class="memItemLeft" align="right" valign="top"><a id="a681dc6971e6126505be7f1c599e88e1b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_H</b>&#160;&#160;&#160;(PredPel[8])</td></tr>
<tr class="separator:a681dc6971e6126505be7f1c599e88e1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35500d58547d44c43c63fc00d33a8208"><td class="memItemLeft" align="right" valign="top"><a id="a35500d58547d44c43c63fc00d33a8208"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_I</b>&#160;&#160;&#160;(PredPel[9])</td></tr>
<tr class="separator:a35500d58547d44c43c63fc00d33a8208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a878a1ddaf21c03dc8a268f2545a17fcb"><td class="memItemLeft" align="right" valign="top"><a id="a878a1ddaf21c03dc8a268f2545a17fcb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_J</b>&#160;&#160;&#160;(PredPel[10])</td></tr>
<tr class="separator:a878a1ddaf21c03dc8a268f2545a17fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac43908c595b15be30777fcd4835bd6c6"><td class="memItemLeft" align="right" valign="top"><a id="ac43908c595b15be30777fcd4835bd6c6"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_K</b>&#160;&#160;&#160;(PredPel[11])</td></tr>
<tr class="separator:ac43908c595b15be30777fcd4835bd6c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaddae9a606bbd8844e58d78e4b94ec50"><td class="memItemLeft" align="right" valign="top"><a id="aaddae9a606bbd8844e58d78e4b94ec50"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>P_L</b>&#160;&#160;&#160;(PredPel[12])</td></tr>
<tr class="separator:aaddae9a606bbd8844e58d78e4b94ec50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a073e036ea4d1c2021e39096986e214fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a073e036ea4d1c2021e39096986e214fe">intrapred_luma</a> (int img_x, int img_y, int *left_available, int *up_available, int *all_available)</td></tr>
<tr class="memdesc:a073e036ea4d1c2021e39096986e214fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make intra 4x4 prediction according to all 9 prediction modes. The routine uses left and upper neighbouring points from previous(先前的) coded blocks to do this (if available). Notice that inaccessible(难以达到的) neighbouring points are signalled with a negative value in the predmode array .  <a href="block_8c.html#a073e036ea4d1c2021e39096986e214fe">More...</a><br /></td></tr>
<tr class="separator:a073e036ea4d1c2021e39096986e214fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd0fd7d0fdc48d6f935c55bc963c396c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#afd0fd7d0fdc48d6f935c55bc963c396c">intrapred_luma_16x16</a> ()</td></tr>
<tr class="memdesc:afd0fd7d0fdc48d6f935c55bc963c396c"><td class="mdescLeft">&#160;</td><td class="mdescRight">16x16 based luma prediction 有4中预测模式  <a href="block_8c.html#afd0fd7d0fdc48d6f935c55bc963c396c">More...</a><br /></td></tr>
<tr class="separator:afd0fd7d0fdc48d6f935c55bc963c396c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c1084a3880539fc3e5895707c2e6f6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a04c1084a3880539fc3e5895707c2e6f6">dct_luma_16x16</a> (int new_intra_mode)</td></tr>
<tr class="memdesc:a04c1084a3880539fc3e5895707c2e6f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">For new intra pred routines.  <a href="block_8c.html#a04c1084a3880539fc3e5895707c2e6f6">More...</a><br /></td></tr>
<tr class="separator:a04c1084a3880539fc3e5895707c2e6f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadb238d0789381756e2d30190792571d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#aadb238d0789381756e2d30190792571d">dct_luma</a> (int block_x, int block_y, int *coeff_cost, int old_intra_mode)</td></tr>
<tr class="memdesc:aadb238d0789381756e2d30190792571d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The routine(常规) performs transform,quantization,inverse transform, adds the diff. to the prediction and writes the result to the decoded luma frame. Includes the RD constrained quantization also.  <a href="block_8c.html#aadb238d0789381756e2d30190792571d">More...</a><br /></td></tr>
<tr class="separator:aadb238d0789381756e2d30190792571d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4be7ef0bb0ec5acfa3f8b0ccc2f4c6cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a4be7ef0bb0ec5acfa3f8b0ccc2f4c6cc">dct_chroma</a> (int uv, int cr_cbp)</td></tr>
<tr class="memdesc:a4be7ef0bb0ec5acfa3f8b0ccc2f4c6cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform,quantization,inverse transform for chroma. The main reason why this is done in a separate routine is the additional 2x2 transform of DC-coeffs. This routine is called ones for each of the chroma components.  <a href="block_8c.html#a4be7ef0bb0ec5acfa3f8b0ccc2f4c6cc">More...</a><br /></td></tr>
<tr class="separator:a4be7ef0bb0ec5acfa3f8b0ccc2f4c6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1be0cb2ec2fc660c6343c87164c6bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a1b1be0cb2ec2fc660c6343c87164c6bf">dct_luma_sp</a> (int block_x, int block_y, int *coeff_cost)</td></tr>
<tr class="memdesc:a1b1be0cb2ec2fc660c6343c87164c6bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">The routine performs transform,quantization,inverse transform, adds the diff. to the prediction and writes the result to the decoded luma frame. Includes the RD constrained quantization also.  <a href="block_8c.html#a1b1be0cb2ec2fc660c6343c87164c6bf">More...</a><br /></td></tr>
<tr class="separator:a1b1be0cb2ec2fc660c6343c87164c6bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af75c6f27f0e8cbfc8767dd1612dec86e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#af75c6f27f0e8cbfc8767dd1612dec86e">dct_chroma_sp</a> (int uv, int cr_cbp)</td></tr>
<tr class="memdesc:af75c6f27f0e8cbfc8767dd1612dec86e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform,quantization,inverse transform for chroma. The main reason why this is done in a separate routine is the additional 2x2 transform of DC-coeffs. This routine is called ones for each of the chroma components.  <a href="block_8c.html#af75c6f27f0e8cbfc8767dd1612dec86e">More...</a><br /></td></tr>
<tr class="separator:af75c6f27f0e8cbfc8767dd1612dec86e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767e38454b36c4fa640b8d297f346acd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="block_8c.html#a767e38454b36c4fa640b8d297f346acd">copyblock_sp</a> (int block_x, int block_y)</td></tr>
<tr class="memdesc:a767e38454b36c4fa640b8d297f346acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">The routine performs transform,quantization,inverse transform, adds the diff. to the prediction and writes the result to the decoded luma frame. Includes the RD constrained quantization also.  <a href="block_8c.html#a767e38454b36c4fa640b8d297f346acd">More...</a><br /></td></tr>
<tr class="separator:a767e38454b36c4fa640b8d297f346acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Process one block. </p>
<dl class="section author"><dt>Author</dt><dd>Main contributors (see contributors.h for copyright, address and affiliation details)<ul>
<li>Inge Lille-Langy <a href="#" onclick="location.href='mai'+'lto:'+'ing'+'e.'+'lil'+'le'+'-la'+'ng'+'oy@'+'te'+'len'+'or'+'.co'+'m'; return false;">inge.<span style="display: none;">.nosp@m.</span>lill<span style="display: none;">.nosp@m.</span>e-lan<span style="display: none;">.nosp@m.</span>goy@<span style="display: none;">.nosp@m.</span>telen<span style="display: none;">.nosp@m.</span>or.c<span style="display: none;">.nosp@m.</span>om</a></li>
<li>Rickard Sjoberg <a href="#" onclick="location.href='mai'+'lto:'+'ric'+'ka'+'rd.'+'sj'+'obe'+'rg'+'@er'+'a.'+'eri'+'cs'+'son'+'.s'+'e'; return false;">ricka<span style="display: none;">.nosp@m.</span>rd.s<span style="display: none;">.nosp@m.</span>jober<span style="display: none;">.nosp@m.</span>g@er<span style="display: none;">.nosp@m.</span>a.eri<span style="display: none;">.nosp@m.</span>csso<span style="display: none;">.nosp@m.</span>n.se</a></li>
<li>Stephan Wenger <a href="#" onclick="location.href='mai'+'lto:'+'ste'+'we'+'@cs'+'.t'+'u-b'+'er'+'lin'+'.d'+'e'; return false;">stewe<span style="display: none;">.nosp@m.</span>@cs.<span style="display: none;">.nosp@m.</span>tu-be<span style="display: none;">.nosp@m.</span>rlin<span style="display: none;">.nosp@m.</span>.de</a></li>
<li>Jani Lainema <a href="#" onclick="location.href='mai'+'lto:'+'jan'+'i.'+'lai'+'ne'+'ma@'+'no'+'kia'+'.c'+'om'; return false;">jani.<span style="display: none;">.nosp@m.</span>lain<span style="display: none;">.nosp@m.</span>ema@n<span style="display: none;">.nosp@m.</span>okia<span style="display: none;">.nosp@m.</span>.com</a></li>
<li>Detlev Marpe <a href="#" onclick="location.href='mai'+'lto:'+'mar'+'pe'+'@hh'+'i.'+'de'; return false;">marpe<span style="display: none;">.nosp@m.</span>@hhi<span style="display: none;">.nosp@m.</span>.de</a></li>
<li>Thomas Wedi <a href="#" onclick="location.href='mai'+'lto:'+'wed'+'i@'+'tnt'+'.u'+'ni-'+'ha'+'nno'+'ve'+'r.d'+'e'; return false;">wedi@<span style="display: none;">.nosp@m.</span>tnt.<span style="display: none;">.nosp@m.</span>uni-h<span style="display: none;">.nosp@m.</span>anno<span style="display: none;">.nosp@m.</span>ver.d<span style="display: none;">.nosp@m.</span>e</a></li>
<li>Ragip Kurceren <a href="#" onclick="location.href='mai'+'lto:'+'rag'+'ip'+'.ku'+'rc'+'ere'+'n@'+'nok'+'ia'+'.co'+'m'; return false;">ragip<span style="display: none;">.nosp@m.</span>.kur<span style="display: none;">.nosp@m.</span>ceren<span style="display: none;">.nosp@m.</span>@nok<span style="display: none;">.nosp@m.</span>ia.co<span style="display: none;">.nosp@m.</span>m</a></li>
<li>Greg Conklin <a href="#" onclick="location.href='mai'+'lto:'+'gre'+'gc'+'@re'+'al'+'.co'+'m'; return false;">gregc<span style="display: none;">.nosp@m.</span>@rea<span style="display: none;">.nosp@m.</span>l.com</a> </li>
</ul>
</dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a767e38454b36c4fa640b8d297f346acd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a767e38454b36c4fa640b8d297f346acd">&#9670;&nbsp;</a></span>copyblock_sp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void copyblock_sp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block_y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The routine performs transform,quantization,inverse transform, adds the diff. to the prediction and writes the result to the decoded luma frame. Includes the RD constrained quantization also. </p>
<dl class="section user"><dt>Input:</dt><dd>block_x,block_y: Block position inside a macro block (0,4,8,12).</dd></dl>
<dl class="section user"><dt>Output:</dt><dd>nonzero: 0 if no levels are nonzero. 1 if there are nonzero levels. <br  />
 coeff_cost: Counter for nonzero coefficients, used to discard expencive levels. </dd></dl>

</div>
</div>
<a id="a4be7ef0bb0ec5acfa3f8b0ccc2f4c6cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4be7ef0bb0ec5acfa3f8b0ccc2f4c6cc">&#9670;&nbsp;</a></span>dct_chroma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dct_chroma </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cr_cbp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform,quantization,inverse transform for chroma. The main reason why this is done in a separate routine is the additional 2x2 transform of DC-coeffs. This routine is called ones for each of the chroma components. </p>
<dl class="section user"><dt>Input:</dt><dd>uv : Make difference between the U and V chroma component <br  />
 cr_cbp: chroma coded block pattern</dd></dl>
<dl class="section user"><dt>Output:</dt><dd>cr_cbp: Updated chroma coded block pattern. </dd></dl>

</div>
</div>
<a id="af75c6f27f0e8cbfc8767dd1612dec86e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af75c6f27f0e8cbfc8767dd1612dec86e">&#9670;&nbsp;</a></span>dct_chroma_sp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dct_chroma_sp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>uv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cr_cbp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transform,quantization,inverse transform for chroma. The main reason why this is done in a separate routine is the additional 2x2 transform of DC-coeffs. This routine is called ones for each of the chroma components. </p>
<dl class="section user"><dt>Input:</dt><dd>uv : Make difference between the U and V chroma component <br  />
 cr_cbp: chroma coded block pattern</dd></dl>
<dl class="section user"><dt>Output:</dt><dd>cr_cbp: Updated chroma coded block pattern. </dd></dl>

</div>
</div>
<a id="aadb238d0789381756e2d30190792571d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadb238d0789381756e2d30190792571d">&#9670;&nbsp;</a></span>dct_luma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dct_luma </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>coeff_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>old_intra_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The routine(常规) performs transform,quantization,inverse transform, adds the diff. to the prediction and writes the result to the decoded luma frame. Includes the RD constrained quantization also. </p>
<dl class="section user"><dt>Input:</dt><dd>block_x,block_y: Block position inside a macro block (0,4,8,12).</dd></dl>
<dl class="section user"><dt>Output_</dt><dd>nonzero: 0 if no levels are nonzero. 1 if there are nonzero levels. <br  />
 coeff_cost: Counter for nonzero coefficients, used to discard expencive levels. </dd></dl>

</div>
</div>
<a id="a04c1084a3880539fc3e5895707c2e6f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c1084a3880539fc3e5895707c2e6f6">&#9670;&nbsp;</a></span>dct_luma_16x16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dct_luma_16x16 </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_intra_mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For new intra pred routines. </p>
<dl class="section user"><dt>Input:</dt><dd>Image par, 16x16 based intra mode</dd></dl>
<dl class="section user"><dt>Output:</dt><dd>none </dd></dl>

</div>
</div>
<a id="a1b1be0cb2ec2fc660c6343c87164c6bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1be0cb2ec2fc660c6343c87164c6bf">&#9670;&nbsp;</a></span>dct_luma_sp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int dct_luma_sp </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>block_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>coeff_cost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The routine performs transform,quantization,inverse transform, adds the diff. to the prediction and writes the result to the decoded luma frame. Includes the RD constrained quantization also. </p>
<dl class="section user"><dt>Input:</dt><dd>block_x,block_y: Block position inside a macro block (0,4,8,12).</dd></dl>
<dl class="section user"><dt>Output:</dt><dd>nonzero: 0 if no levels are nonzero. 1 if there are nonzero levels. <br  />
 coeff_cost: Counter for nonzero coefficients, used to discard expencive levels. </dd></dl>

</div>
</div>
<a id="a073e036ea4d1c2021e39096986e214fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a073e036ea4d1c2021e39096986e214fe">&#9670;&nbsp;</a></span>intrapred_luma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void intrapred_luma </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>img_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>img_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>left_available</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>up_available</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>all_available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Make intra 4x4 prediction according to all 9 prediction modes. The routine uses left and upper neighbouring points from previous(先前的) coded blocks to do this (if available). Notice that inaccessible(难以达到的) neighbouring points are signalled with a negative value in the predmode array . </p>
<dl class="section user"><dt>Input:</dt><dd>Starting point of current 4x4 block image posision</dd></dl>
<dl class="section user"><dt>Output:</dt><dd>none </dd></dl>

</div>
</div>
<a id="afd0fd7d0fdc48d6f935c55bc963c396c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd0fd7d0fdc48d6f935c55bc963c396c">&#9670;&nbsp;</a></span>intrapred_luma_16x16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void intrapred_luma_16x16 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>16x16 based luma prediction 有4中预测模式 </p>
<dl class="section user"><dt>Input:</dt><dd>Image parameters</dd></dl>
<dl class="section user"><dt>Output:</dt><dd>none </dd></dl>
<p>&lt; pixel position p(0,-1)</p>
<p>&lt; pixel positions p(-1, -1..15)</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.19
</small></address>
</body>
</html>
